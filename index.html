<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4-Letter Word Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
            background-color: #f5f5f5;
            touch-action: manipulation;
        }
        h1 {
            color: #333;
        }
        .game-container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .guess-board {
            display: grid;
            grid-template-rows: repeat(8, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        .guess-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr) 1fr 1fr;
            gap: 5px;
        }
        .letter-box {
            width: 50px;
            height: 50px;
            border: 2px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            text-transform: uppercase;
            border-radius: 5px;
            perspective: 1000px;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        .letter-box.flip {
            transform: rotateX(180deg);
        }
        .letter-box-front, .letter-box-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 3px;
        }
        .letter-box-back {
            transform: rotateX(180deg);
            color: white;
        }
        .feedback-box {
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin: auto;
        }
        .correct {
            background-color: #6aaa64;
            border-color: #6aaa64;
        }
        .present {
            background-color: #c9b458;
            border-color: #c9b458;
        }
        .absent {
            background-color: #787c7e;
            border-color: #787c7e;
        }
        .keyboard {
            margin-top: 20px;
        }
        .keyboard-row {
            display: flex;
            justify-content: center;
            margin-bottom: 8px;
            gap: 5px;
        }
        .key {
            min-width: 30px;
            height: 50px;
            padding: 0 10px;
            background-color: #d3d6da;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            user-select: none;
        }
        .key.wide {
            min-width: 50px;
            font-size: 12px;
        }
        .key:hover {
            background-color: #c8cbcf;
        }
        .key:active {
            transform: scale(0.95);
        }
        .input-area {
            margin-top: 20px;
            display: none; /* Hide physical input */
        }
        .instructions {
            margin-top: 30px;
            text-align: left;
            background-color: #e8e8e8;
            padding: 15px;
            border-radius: 5px;
        }
        @media (max-width: 500px) {
            .letter-box {
                width: 40px;
                height: 40px;
                font-size: 20px;
            }
            .key {
                height: 40px;
                min-width: 25px;
                font-size: 14px;
            }
            .key.wide {
                min-width: 40px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>4-Letter Word Game</h1>
        <p>Guess the hidden word in 8 tries. All letters are unique.</p>
        
        <div class="guess-board" id="guessBoard">
            <!-- Guess rows will be added by JavaScript -->
        </div>
        
        <div class="input-area">
            <input type="text" id="guessInput" maxlength="4" placeholder="Enter 4-letter word">
            <button onclick="submitGuess()">Submit</button>
        </div>
        
        <div class="keyboard">
            <div class="keyboard-row">
                <div class="key" onclick="pressKey('Q')">Q</div>
                <div class="key" onclick="pressKey('W')">W</div>
                <div class="key" onclick="pressKey('E')">E</div>
                <div class="key" onclick="pressKey('R')">R</div>
                <div class="key" onclick="pressKey('T')">T</div>
                <div class="key" onclick="pressKey('Y')">Y</div>
                <div class="key" onclick="pressKey('U')">U</div>
                <div class="key" onclick="pressKey('I')">I</div>
                <div class="key" onclick="pressKey('O')">O</div>
                <div class="key" onclick="pressKey('P')">P</div>
            </div>
            <div class="keyboard-row">
                <div class="key" onclick="pressKey('A')">A</div>
                <div class="key" onclick="pressKey('S')">S</div>
                <div class="key" onclick="pressKey('D')">D</div>
                <div class="key" onclick="pressKey('F')">F</div>
                <div class="key" onclick="pressKey('G')">G</div>
                <div class="key" onclick="pressKey('H')">H</div>
                <div class="key" onclick="pressKey('J')">J</div>
                <div class="key" onclick="pressKey('K')">K</div>
                <div class="key" onclick="pressKey('L')">L</div>
            </div>
            <div class="keyboard-row">
                <div class="key wide" onclick="pressKey('Backspace')">âŒ«</div>
                <div class="key" onclick="pressKey('Z')">Z</div>
                <div class="key" onclick="pressKey('X')">X</div>
                <div class="key" onclick="pressKey('C')">C</div>
                <div class="key" onclick="pressKey('V')">V</div>
                <div class="key" onclick="pressKey('B')">B</div>
                <div class="key" onclick="pressKey('N')">N</div>
                <div class="key" onclick="pressKey('M')">M</div>
                <div class="key wide" onclick="submitGuess()">ENTER</div>
            </div>
        </div>
        
        <div class="instructions">
            <h3>How to Play</h3>
            <p><strong>Examples:</strong></p>
            <p><strong>W O R K 2 1</strong> - 2 letters correct position, 1 letter wrong position</p>
            <p><strong>H E L P 1 0</strong> - 1 letter correct position, 0 letters wrong position</p>
            <p><strong>B U R P 0 0</strong> - No matching letters</p>
        </div>
    </div>

    <script>
        // Game words (all 4 letters with unique characters)
        const words = [
            "ABLE", "ACID", "AGED", "ALSO", "AREA", "ARM", "AWAY", "BABY", 
            "BACK", "BALL", "BAND", "BANK", "BASE", "BATH", "BEAR", "BEAT", 
            "BEAU", "BEEN", "BEER", "BELL", "BELT", "BEND", "BENT", "BEST", 
            "BILL", "BIRD", "BLOW", "BLUE", "BOAT", "BODY", "BOND", "BONE", 
            "BOOK", "BOOM", "BORN", "BOSS", "BOTH", "BOWL", "BULK", "BURN", 
            "BUSH", "BUSY", "CALM", "CAME", "CAMP", "CARD", "CARE", "CASE", 
            "CASH", "CAST", "CHAT", "CHIP", "CITY", "CLUB", "COAL", "COAT", 
            "CODE", "COLD", "COME", "COOK", "COOL", "COPE", "COPY", "CORE", 
            "COST", "CREW", "CROP", "CURE", "CUTE", "DARK", "DATA", "DATE", 
            "DAWN", "DAYS", "DEAD", "DEAF", "DEAL", "DEAN", "DEAR", "DEBT", 
            "DEEP", "DENY", "DESK", "DIAL", "DIED", "DIET", "DISC", "DISH", 
            "DISK", "DOES", "DONE", "DOOR", "DOSE", "DOWN", "DRAW", "DREW", 
            "DROP", "DRUG", "DUAL", "DUKE", "DUST", "DUTY", "EACH", "EARL", 
            "EARN", "EASE", "EAST", "EASY", "ECHO", "EDGE", "ELSE", "EVEN", 
            "EVER", "EXAM", "EXIT", "FACE", "FACT", "FAIL", "FAIR", "FALL", 
            "FAME", "FARM", "FAST", "FATE", "FEAR", "FEED", "FEEL", "FEET", 
            "FELL", "FELT", "FILE", "FILL", "FILM", "FIND", "FINE", "FIRE", 
            "FIRM", "FISH", "FIST", "FITS", "FIVE", "FLAT", "FLOW", "FOOD", 
            "FOOT", "FORD", "FORK", "FORM", "FORT", "FOUR", "FREE", "FROM", 
            "FUEL", "FULL", "FUND", "GAIN", "GAME", "GATE", "GAVE", "GEAR", 
            "GENE", "GIFT", "GIRL", "GIVE", "GLAD", "GOAL", "GOES", "GOLD", 
            "GOLF", "GONE", "GOOD", "GRAY", "GREW", "GREY", "GROW", "GULF", 
            "HAIR", "HALF", "HALL", "HAND", "HANG", "HARD", "HARM", "HATE", 
            "HAVE", "HEAD", "HEAR", "HEAT", "HELD", "HELL", "HELP", "HERE", 
            "HERO", "HERS", "HIDE", "HIGH", "HILL", "HIRE", "HOLD", "HOLE", 
            "HOME", "HOPE", "HOST", "HOUR", "HUGE", "HUNG", "HUNT", "HURT", 
            "ICON", "IDEA", "IDLE", "INTO", "IRON", "ITEM", "JACK", "JANE", 
            "JEAN", "JOHN", "JOIN", "JUMP", "JURY", "JUST", "KEEN", "KEEP", 
            "KENT", "KEPT", "KICK", "KILL", "KIND", "KING", "KNEE", "KNEW", 
            "KNOW", "LACK", "LADY", "LAID", "LAKE", "LAND", "LANE", "LAST", 
            "LATE", "LEAD", "LEFT", "LESS", "LIFE", "LIFT", "LIKE", "LINE", 
            "LINK", "LIST", "LIVE", "LOAD", "LOAN", "LOCK", "LONG", "LOOK", 
            "LORD", "LOSE", "LOSS", "LOST", "LOUD", "LOVE", "LUCK", "MADE", 
            "MAIL", "MAIN", "MAKE", "MALE", "MANY", "MASS", "MEAL", "MEAN", 
            "MEAT", "MEET", "MENU", "MILE", "MILK", "MINE", "MISS", "MODE", 
            "MOOD", "MOON", "MORE", "MOST", "MOVE", "MUCH", "MUST", "NAME", 
            "NAVY", "NEAR", "NECK", "NEED", "NEWS", "NEXT", "NICE", "NINE", 
            "NONE", "NOSE", "NOTE", "OKAY", "ONCE", "ONLY", "OPEN", "ORAL", 
            "OVER", "PACE", "PACK", "PAGE", "PAID", "PAIN", "PAIR", "PALE", 
            "PALM", "PANT", "PARK", "PART", "PASS", "PAST", "PATH", "PEAK", 
            "PICK", "PINK", "PIPE", "PLAN", "PLAY", "PLOT", "PLUG", "PLUS", 
            "POEM", "POET", "POLE", "POLL", "POOL", "POOR", "POPE", "PORK", 
            "PORT", "POST", "PULL", "PURE", "PUSH", "PUTT", "RACE", "RAIL", 
            "RAIN", "RANK", "RARE", "RATE", "READ", "REAL", "REAR", "REST", 
            "RICE", "RICH", "RIDE", "RING", "RISE", "RISK", "ROAD", "ROCK", 
            "ROLE", "ROLL", "ROOF", "ROOM", "ROOT", "ROPE", "ROSE", "RULE", 
            "RUSH", "SAFE", "SAID", "SAKE", "SALE", "SALT", "SAME", "SAND", 
            "SAVE", "SEAT", "SEED", "SEEK", "SEEM", "SEEN", "SELL", "SEND", 
            "SENT", "SHIP", "SHOP", "SHOT", "SHOW", "SHUT", "SICK", "SIDE", 
            "SIGN", "SING", "SITE", "SIZE", "SKIN", "SLIP", "SLOW", "SNOW", 
            "SOFT", "SOIL", "SOLD", "SOLE", "SOME", "SONG", "SOON", "SORT", 
            "SOUL", "SPOT", "STAR", "STAY", "STEP", "STOP", "SUCH", "SUIT", 
            "SURE", "TAKE", "TALE", "TALK", "TALL", "TANK", "TAPE", "TASK", 
            "TEAM", "TEAR", "TECH", "TELL", "TEND", "TERM", "TEST", "TEXT", 
            "THAN", "THAT", "THEM", "THEN", "THEY", "THIN", "THIS", "THOU", 
            "THUS", "TIDE", "TINY", "TOLD", "TOLL", "TONE", "TONY", "TOOK", 
            "TOOL", "TOUR", "TOWN", "TREE", "TRIP", "TRUE", "TURN", "TWIN", 
            "TYPE", "UNIT", "UPON", "USED", "USER", "VARY", "VAST", "VERY", 
            "VICE", "VIEW", "VOTE", "WAGE", "WAIT", "WAKE", "WALK", "WALL", 
            "WANT", "WARD", "WARM", "WASH", "WAVE", "WAYS", "WEAK", "WEAR", 
            "WEEK", "WELL", "WENT", "WERE", "WEST", "WHAT", "WHEN", "WHOM", 
            "WIDE", "WIFE", "WILD", "WILL", "WIND", "WINE", "WING", "WIRE", 
            "WISH", "WITH", "WOLF", "WOOD", "WORD", "WORE", "WORK", "WORM", 
            "WORN", "YARD", "YEAH", "YEAR", "YOUR", "ZERO"
        ].filter(word => new Set(word).size === 4);

        // Game state
        let targetWord = words[Math.floor(Math.random() * words.length)];
        let currentRow = 0;
        let currentGuess = '';
        const maxGuesses = 8;

        // Initialize the guess board
        function initializeBoard() {
            const board = document.getElementById('guessBoard');
            board.innerHTML = '';
            
            for (let i = 0; i < maxGuesses; i++) {
                const row = document.createElement('div');
                row.className = 'guess-row';
                
                for (let j = 0; j < 4; j++) {
                    const box = document.createElement('div');
                    box.className = 'letter-box';
                    box.innerHTML = `
                        <div class="letter-box-front"></div>
                        <div class="letter-box-back"></div>
                    `;
                    box.id = `box-${i}-${j}`;
                    row.appendChild(box);
                }
                
                // Add feedback boxes
                const correctBox = document.createElement('div');
                correctBox.className = 'feedback-box';
                correctBox.id = `correct-${i}`;
                row.appendChild(correctBox);
                
                const presentBox = document.createElement('div');
                presentBox.className = 'feedback-box';
                presentBox.id = `present-${i}`;
                row.appendChild(presentBox);
                
                board.appendChild(row);
            }
        }

        // Handle keyboard presses
        function pressKey(key) {
            if (key === 'Backspace') {
                currentGuess = currentGuess.slice(0, -1);
            } else if (key === 'Enter') {
                submitGuess();
            } else if (/^[A-Z]$/.test(key) && currentGuess.length < 4) {
                currentGuess += key;
            }
            updateCurrentGuessDisplay();
        }

        // Update the display of the current guess
        function updateCurrentGuessDisplay() {
            const row = currentRow;
            for (let i = 0; i < 4; i++) {
                const front = document.querySelector(`#box-${row}-${i} .letter-box-front`);
                front.textContent = currentGuess[i] || '';
            }
        }

        // Submit a guess
        function submitGuess() {
            if (currentGuess.length !== 4) {
                alert('Please enter a 4-letter word');
                return;
            }
            
            if (new Set(currentGuess).size !== 4) {
                alert('All letters must be unique');
                return;
            }
            
            if (!words.includes(currentGuess)) {
                alert('Not a valid word');
                return;
            }
            
            // Display the guess with flip animation
            for (let i = 0; i < 4; i++) {
                const box = document.getElementById(`box-${currentRow}-${i}`);
                const back = box.querySelector('.letter-box-back');
                back.textContent = currentGuess[i];
                
                // Set color class on the back face
                if (currentGuess[i] === targetWord[i]) {
                    back.classList.add('correct');
                } else if (targetWord.includes(currentGuess[i])) {
                    back.classList.add('present');
                } else {
                    back.classList.add('absent');
                }
                
                // Trigger flip animation with delay
                setTimeout(() => {
                    box.classList.add('flip');
                }, i * 300);
            }
            
            // Calculate feedback
            const feedback = evaluateGuess(currentGuess);
            document.getElementById(`correct-${currentRow}`).textContent = feedback.correct;
            document.getElementById(`present-${currentRow}`).textContent = feedback.present;
            
            // Update keyboard colors
            updateKeyboardColors(currentGuess, feedback);
            
            // Check for win
            if (feedback.correct === 4) {
                setTimeout(() => alert('Congratulations! You won!'), 1500);
                return;
            }
            
            currentRow++;
            currentGuess = '';
            
            // Check for loss
            if (currentRow === maxGuesses) {
                setTimeout(() => alert(`Game over! The word was ${targetWord}.`), 1500);
            }
        }

        // Evaluate a guess
        function evaluateGuess(guess) {
            let correct = 0;
            let present = 0;
            
            for (let i = 0; i < 4; i++) {
                if (guess[i] === targetWord[i]) {
                    correct++;
                } else if (targetWord.includes(guess[i])) {
                    present++;
                }
            }
            
            return { correct, present };
        }

        // Update keyboard colors based on guess
        function updateKeyboardColors(guess, feedback) {
            for (let i = 0; i < 4; i++) {
                const key = document.querySelector(`.key:contains('${guess[i]}')`);
                if (!key) continue;
                
                if (guess[i] === targetWord[i]) {
                    key.classList.add('correct');
                } else if (targetWord.includes(guess[i])) {
                    key.classList.add('present');
                } else {
                    key.classList.add('absent');
                }
            }
        }

        // Initialize the game when the page loads
        window.onload = function() {
            initializeBoard();
            
            // Handle physical keyboard input
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Backspace') {
                    pressKey('Backspace');
                } else if (event.key === 'Enter') {
                    pressKey('Enter');
                } else if (/^[a-zA-Z]$/.test(event.key)) {
                    pressKey(event.key.toUpperCase());
                }
            });
        };
    </script>
</body>
</html>
